/* topdoc
	application: ION-U web application
	copyright: Copyright (c) 2013, CommScope/webvariants
	author: Steven David <steven.david@webvariants.de>, Christian Sonderfeld <christian.sonderfeld@webvaraints.de>
	name: Inventory
	description:
	example: Link to an example on sites like Codepen.io or jsfiddle.net
	tags: styleguide, inventory
	div(data-template="templates/system/inventory_table", data-module="system", data-uid="20")
		div.btnGroup
			span Unit:
		div.btn-group.btn-group-lg
			div(class="ion-btn btn btn-default", data-id="ifc_poi_std", data-type="ifc_poi_std")
				span(class="") ifc_poi_std
			div(class="ion-btn btn btn-default", data-id="otrx_lp", data-type="otrx_lp"
				span(class="") otrx_lp
			div(class="ion-btn btn btn-default", data-id="ethsc", data-type="ethsc")
				span(class="") ethsc
			div(class="ion-btn btn btn-default", data-id="poi_ilte", data-type="poi_ilte")
				span(class="") poi_ilte
			div(class="ion-btn btn btn-default", data-id="poi_iumts", data-type="poi_iumts")
				span(class="") poi_iumts
			div(class="ion-btn btn btn-default", data-id="zcmb", data-type="zcmb")
				span(class="") zcmb
			div(class="ion-btn btn btn-default",  data-id="bpdsmr", data-type="bpdsmr")
				span(class="") bpdsmr
			div(class="ion-btn btn btn-default", data-id="OTRX H", data-type="OTRX H")
				span(class="") OTRX H
			div(class="ion-btn btn btn-default", data-id="RMC1600 ION-U Linux w/o modem", data-type="RMC1600 ION-U Linux w/o modem")
				span(class="") RMC1600 ION-U Linux w/o modem
		div.row.solo
			div.basic_widget.col-12.alpha.omega
				div.widget.inventory
					div.title
						div(class="ion-btn toggle toggleBtn", title="toggle open or close")
							span Inventory data
						div(class="ion-btn help helpBtn  withIcon", title="open help", data-help="INVENTORY_TABLE")
							span.icon.help">
					div.widgetLoader-overlay
						div.widgetLoader-box
							div.circleG_1.circleG"
							div.circleG_2.circleG"
							div.circleG_3.circleG"
					div.content
						table.widgetTable.inventoryTable
							thead
								tr
									th Unit
									th(colspan="3") Module type
									th ID
									th Manufacturer
									th Produced
									th HW revision
									th HW changes
									th SW-ID
									th SW-Version
									th Description
							tbody
								td 1
								td 2
								td 3
								td 4
								td 5
								td 6
								td 7
								td 8
								td 9
								td 10
								td 11
						div.button.download
							div.ion-btn.onlyCaption.download
								span Export
*/

.inventory {

	.content  {
		.widgetTable tbody {

			.toggle{
				cursor: pointer;
			}

			tr td {
				padding: 4px;
			}

			tr.device td {
				padding: 5px 3px;

				&:first-child {
					text-align: left;
				}
			}

			.aliasInputField {
				.ion-inputfield {
					border: none;
					border-color: @white;
					box-shadow: none;
					text-align: center;
					width: 100%;
					max-width: 100%;
					font-weight: bold;
				}
				.ion-inputfield:focus {
					border: none;
				}
			}
		}
	}
}

.inventoryContainer {
	.rackwidget .rackviewAlarms .rackContainer {
		.transition(0.15s, ease-in-out, background);
		position: relative;
		cursor: pointer;

		.rackSelector {
			position: relative;
			z-index: 3;
		}

		&:hover:after {
			opacity: 0.5;
		}

		&:after {
			.transition(0.15s, ease-in-out, opactiy);
			.box-shadow(inset 0 0 0px 1px @grey10);
			content: '';
			display: block;
			position: absolute;
			background: rgba(255,255,255,0.7);
			opacity: 0;
			z-index: 1;
			top: 0;
			bottom: 0;
			left: 0;
			right: 0;
			pointer-events: none;
		}

		&:hover {
			background: @azure;
		}

		&.selected {
			li.subrack:first-child {
				background: @azure;
			}
		}

		.subracks {
			position: relative;
			z-index: 2;
		}

		li.subrack {
			.transition(0.15s, ease-in-out, background);
			cursor: pointer;
			background: @grey10;

			> .nr, > .topHeightHu {
				cursor: pointer;
			}

			&.selected {
				background: @azure;
			}

			&:hover > .bg:after {
				opacity: 0.5;
			}

			> .bg:after {
				.transition(0.15s, ease-in-out, opacity);
				.box-shadow(inset 0 0 0px 1px @grey10);
				content: '';
				display: block;
				position: absolute;
				background: rgba(255,255,255,0.6);
				opacity: 0;
				z-index: 5;
				top: 0;
				bottom: 0;
				left: 0;
				right: 0;
				pointer-events: none;
			}

			&:hover {
				background: @azure;
			}

			.devices > div {
				z-index: 6;
				&.selected {
					&::after {
						z-index: 7;
						background: fade(@sliderBgBlue, 40%);
						.box-shadow(inset 0 0 0px 1px fade(@grey10,60%));

						background: none;
						.box-shadow(none);
					}

					&:hover:after {
						background: fade(@black, 40%);
						opacity: .8;
						//.box-shadow(inset 0 0 0px 1px fade(@grey10,60%));
					}
				}

				&.not_selected:not(.selected):not(:hover):not(.wrong_device):not(.missing):not(.missing_wrong_slot) {
					padding-right: 1px;
					padding-left: 1px;
					z-index: 3;

					.bg {
						opacity: 1;
					}

					span {
						color: @grey100;
					}

					&::after{
						background: @grey100;
						opacity: .7;
						content: '';
						display: block;
						position: absolute;
						z-index: 4;
						top: 0;
						bottom: 0;
						left: 0;
						right: 0;
						pointer-events: none;
					}
				}

				&.filtered, &.not_selected {
					&:hover:after {
						opacity: 0;
					}
				}
				&.filtered:not(.selected):not(:hover):not(.wrong_device):not(.missing):not(.missing_wrong_slot) {
					padding-right: 1px;
					padding-left: 1px;

					.bg {
						opacity: 1;
					}

					span {
						color: @grey100;
					}

					&::after{
						background: darken(@sliderBgBlue,40%);
						opacity: .5;
						content: '';
						display: block;
						position: absolute;
						z-index: 7;
						top: 0;
						bottom: 0;
						left: 0;
						right: 0;
						pointer-events: none;
					}
				}
			}
		}
	}

	.btn-group-justified .ion-btn:not(.selected) {
		background: none;
		color: @grey67;
		border-color: @grey30;
	}
}

.rackViewWidget {
	margin-bottom: 12px;
	.rackwidget {
		.transition(0.25s, ease-in-out, all);
		overflow: hidden;
		//max-height: 300px;
		padding-bottom: 12px;
		opacity: 1;
	}

	.maxMinPanel {
		.transition(0.15s, ease-in-out, opacity);
		opacity: 0.7;

		&:hover {
			opacity: 1;
		}

		.toggleRackPanel {
			text-align: center;
			width:100%;
			font-weight: bold;
			border-bottom: 1px solid @grey53;
			border-top: 1px solid @grey53;
			cursor: pointer;
			//background: @grey10;

			.showText, .hideText {
				color: @grey67;
				display: block;
				margin-bottom: 10px;
				margin-top: 10px;
			}

			.showText {
				display: none;
			}

		}
	}

	&.minimized {
		.rackwidget{
			max-height: 0px;
			padding-bottom: 0px;
			opacity: 0;
		}

		.toggleRackPanel {
			.hideText {
				display: none;
			}

			.showText {
				display: block;
			}
		}
	}
}

// @media (max-width: 1400px) {

// 	.inventoryContainer {

// 		.btnGroup {
// 			background: red;
// 			position: relative;

// 			.btnGroupDesc {
// 				background: @cyan;
// 				padding: 5px;
// 				text-align: center;
// 				width: 100%;
// 			}

// 			.btn-group {
// 				background: white;
// 				position: absolute;

// 				.ion-btn {
// 					background: pink;
// 					width: 100%;
// 				}
// 			}
// 		}
// 	}
// }
