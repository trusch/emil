/* topdoc
  application: ION-U web application
  copyright: Copyright (c) 2013, CommScope/webvariants
  author: Steven David <steven.david@webvariants.de>, Christian Sonderfeld <christian.sonderfeld@webvaraints.de>
  name: Commissioning
  description:
  example: Link to an example on sites like Codepen.io or jsfiddle.net
  tags: styleguide, commissioning
*/

.widget.commissioning {

	> div {
		margin: 0;
		min-height: 32px;
		background: @white;
		.clearfix;
	}

	&.hardware {
		.running, .finished {
			min-height: 300px;
			text-align: center;
			background: #444;

			h1 {
				text-align: left;
				margin-bottom: 3em;
			}

			p {
				margin-bottom: 2em;
				font-size: 1.3em;
				color: @white;

				&.error {
					color: red;
				}
				&.success {
					color: @successGreen;
				}
			}

			.button {
				display: inline-block;

				span {
					background-position: 5px -908px;
				}

				&.start {
					display: none;

					span {
						background-position: 5px -20px;
					}
				}
			}
		}

		.finished {
			background: @grey100 @url_help_icons_spr no-repeat center -145px;

			h2 {
				margin-bottom: 2em;
				font-size: 1.5em;
			}
		}

		.tasks {
			padding-bottom: 1em;

			th {
				&.icon {
					width: 20px;
				}
				&.rack {
					background-position: 5px -3436px;
				}
				&.subrack {
					background-position: 5px -3460px;
				}
				&.slot {
					background-position: 5px -3484px;
				}
			}

			tbody tr {
				cursor: pointer;

				&.selected {
					background-color: #006;
					color: #fff;
				}

				.status {
					background-position: center -3509px;
				}

				&.success {
					color: #999;

					.status {
						background-position: center -3560px;
					}
				}

				&.error {
					.status {
						background-position: center -3536px;
					}
				}
			}

			caption {
				background: none;
				color: #000;
				border: 0;
			}
		}

		&.populating, &.cabling {

			.finished {
				background-color: @grey100;
				padding-top: 2.5em;

				h1 {
					font-size: 1.4em;
					color: #fff;
					background: none;
					margin: 2.5em auto 8em;
					padding: 0 20px;
					text-align: center;
				}

				.button span {
					padding-left: 12px;
					background: none;
				}
			}
		}

		&.populating {

			.finished {
				display: none;
			}

			.tasks {
				float: left;
				width: 580px;

				.toggle_completed_tasks {
					padding-left: 20px;
					width: auto;
					background-position: 0 -2113px;
					top: 4px;
					right: 0;

					&.show {
						background-position: 0 -2089px;
					}
				}

				tr.success{
					display: none;
				}

				&.show_completed tr.success {
					display: table-row;
				}
			}
		}

		&.cabling{
			background: red;

			.tasks {
				margin: 0 auto;
				width: 95%;

				thead {

					tr:first-child th {
						border-bottom: 0;
					}

					tr + tr th {
						border-top: 0;
					}

					th {
						vertical-align: top;

						&.last {
							text-align: left;
						}
					}

					tr:not(:first-child) th{
						border-top: hidden;
					}
				}

				th, td {
					padding-top: 5px;
					padding-bottom: 5px;
				}

				th {

					&.rack {
						background-position: center -3435px;
					}

					&.subrack {
						background-position: center -3459px;
					}

					&.slot {
						background-position: center -3483px;
					}
				}

				td {

					&.cableId {
						padding-left: 30px;
						text-align: left;
						background-position: 100px 100px;

						&.black {
							background-position: 8px -3629px;
						}

						&.white {
							background-position: 8px -3653px;
						}

						&.blue {
							background-position: 8px -3677px;
						}

						&.yellow {
							background-position: 8px -3989px;
						}
					}
				}

				tbody {
					border: 0;

					tr {
						background-color: #fff;

						.status {
							background-position: 4px -3509px;
						}

						&.spacer {
							background: none;
							cursor: default;

							td {
								border-left-width: 0;
								border-right-width: 0;
							}
						}

						&.selected {
							background: #006;
						}

						&.success {
							color: #999;

							.status {
								background-position: 4px -3557px;
							}
						}

						&.error {
							.status {
								background-position: 4px -3533px;
							}
						}
					}
				}
			}
		}

		&.leveling {

			&.running, &.finished {

				> div + div {
					background: none;
					text-align: center;

					h1 {
						text-align: left;
					}

					h2 {
						font-size: 2em;
						margin: 2.5em 0 5.5em;
						color: #fff;
					}

					.button {
						text-align: center;
						display: inline-block;
						margin-bottom: 5em;

						span {
							padding-left: 12px;
							background-image: none;
						}
					}
				}
			}

			&.running {

				p {
					font-size: 1.5em;
					margin: 2em 0;
				}
			}

			&.finished {
				> div + div {
					background: @grey100 @url_help_icons_spr no-repeat center -145px;
				}
			}

			&.failed {
				background-position: center 0px;

				.progress li {
					background-color: @red;
				}

				h1 {
					color: @red;
				}

				h3 {
					color: @grey100;
					display: inline-block;
					padding-left:  6px;
					padding-right: 6px;
					margin-top: 1em;
				}

				ul h2, .leveling div {
					border: 1px solid #999;
				}

				ul h2 {
					background-color: @grey70;
					padding: 3px 6px;
				}

				.report {
					width: 95%;
					margin: 0 auto 2em;
				}

				.tasks {
					width: 100%;
					padding-bottom: 0;

					tr {
						cursor: default;
					}

					caption {
						display: none;
					}

					.status {
						background-position: 4px -3533px;
						text-align: left;
						padding-left: 26px;
						color: @red;
					}

					thead th {
						vertical-align: top;

						&.last {
							text-align: left;
							padding-left: 4px;
						}
					}
				}

				.cabling .tasks tr.success,
				.cabling .tasks tr.success + tr.spacer {
					display: none;
				}

				.leveling div {
					padding: 6px;

					li {
						margin-bottom: .7em;
					}
				}

				.button {
					display: inline-block;
					margin-left: 23px;
					margin-bottom: 1em;

					span {
						background-position: 3px 4px;
					}

					&.download {
						background-position: 0 0;
						float: right;
						margin-left: 0;
						margin-right: 23px;

						span {
							background-position: 3px -92px;
						}
					}
				}
			}
		}

		h1 {
			font-size: 14px;
			font-weight: bold;
			padding: 9px 10px 9px 25px;
			margin-bottom: 10px;
			background-color: #ccc;

			> span {

				&.default {
					display: block;
				}

				&.success {
					color: #6a0;
				}

				&.error {
					color: #d94040;
					padding-left: 25px;
					background-position: 0 -840px;
				}
			}

			em {
				background-position: 16px -3583px;
				font-size: .8em;
				padding: 3px 0 2px 40px;
			}
		}

		.referenceInventory {
			float: left;
			position: relative;
			margin: 22px 45px 0;

			> ol {
				margin: 0;
			}

			.subracks {

				> li > span {
					background: @grey80;
					border: 1px solid @grey70;
					border-width: 1px 1px 0 0;
					color: @grey30;
					display: block;
					font-size: 11px;
					padding-top: 24px;
					position: absolute;
					right: 100%;
					top: -1px;
					bottom: -1px;
					width: 25px;
					text-align: center;

					&.topHeightHu {
						left: 100%;
						right: auto;
						border-width: 1px 0 0 1px;
					}
				}

				.height160 .devices {

					li .label {
						bottom: 24px;
					}
				}

				.height40 {

					> span {
						padding-top: 2px;
					}

					.devices {

						li span {

							&.label, &.nr {
								bottom: 1px;
							}

							&.nr {
								left: 2px;
								right: auto;
							}
						}
					}
				}
			}

			.devices {

				li {
					text-align: center;

					span {
						position: absolute;
						left: 0;
						right: 0;
						font-size: 10px;
					}

					.label,
					.nr {
						z-index: 2;
						display: block;
						text-align: center;
						top: 2px;
					}

					.nr {
						top: auto;
						bottom: 3px;
					}

					.marker {
						z-index: 1;
						display: none;
						top: -2px;
						left: -2px;
						bottom: 0;
						border: 2px solid @cyan;

						&:after {
							display: block;
							content: "";
							background: #09c;
							.opacity(0.4);
							height: 100%;
							width: 100%;
						}
					}

					&.selected {
						.marker {
							display: block;
						}
					}

					&.error,
					&.empty {
						background-image: none;
					}

					&.marked_correct_slot,
					&.success,
					&.error {
						.marker {

							&:after {
								display: none;
							}
						}

						&.selected .marker {
							border: 2px solid @cyan;
							top: -2px;
							left: -2px;
						}
					}

					&.marked_correct_slot,
					&.error {
						color: @white;

						.marker {
							display: block;
							border: 0;
							top: 0;
							left: 0;
							background-color: @green;
						}
					}

					&.error {
						.marker {
							background-color: @red;

							-moz-animation-direction: normal;
							-moz-animation-duration: 1s;
							-moz-animation-iteration-count: infinite;
							-moz-animation-name: error;
							-moz-animation-timing-function: linear;

							animation-direction: normal;
							animation-duration: 1s;
							animation-iteration-count: infinite;
							animation-name: error;
							animation-timing-function: ease;

							-webkit-animation-direction: normal;
							-webkit-animation-duration: 1s;
							-webkit-animation-iteration-count: infinite;
							-webkit-animation-name: error;
							-webkit-animation-timing-function: ease;

							-o-animation-direction: normal;
							-o-animation-duration: 1s;
							-o-animation-iteration-count: infinite;
							-o-animation-name: error;
							-o-animation-timing-function: ease;
						}
					}

					&.hiddenError {

						.marker {
							background-color: transparent;
						}
					}

					&.success span {
						display: none;
					}
				}
			}
		}

		.rackSelect {
			position: absolute;
			top: 0px;
			left: 0;
			z-index: 5;
			width: 179px;

			+ ol {
				margin-top: 33px;
			}

			> span {
				display: block;
				float: left;
				margin-right: 5px;
				margin-top: 5px;
				color: #999;
				font-weight: bold;
			}

			.icon {
					background-position: 0 -2066px;
					display: block;
					position: absolute;
					right: 0;
					top: 1px;
					margin: 0;
					z-index: 100;
			}

			ol {
				width: 165px;
				position: relative;
				background: #fff;
				border: 1px solid #999;
				padding-top: 20px;
				height: 0;
				overflow: hidden;

				&.open {
					height: auto;
				}

				li {
					cursor: pointer;
					padding: 4px 25px 4px 4px;

					&:hover {
						background-color: #ccc;
					}

					&.selected {
						display: block;
						border-bottom: 1px solid #999;
						color: #000;
						position: absolute;
						top: 0;
						left: 0;
						right: 0;
						height: auto;
					}
				}
			}
		}
	}
}
