.emil-state-factory(@brand; @contrast){
    @border: ~"btn-@{brand}-border";
    @color: ~"btn-@{brand}-color";
    @bg: ~"btn-@{brand}-bg";

    &.@{brand} {
        .transition(0.1s);
        border-color: @@border;
        color: @@color;
        background-color: @@bg;

        .icon {
            div {
                background-color: @@color;
            }
        }
        &:hover {
            background-color: lighten(@@bg, 15%);
            color: @contrast;

            .icon {
                div {
                    background-color: @contrast;
                }
            }
        }

        &:active,
        &.active {
            background-color: lighten(@@bg, 20%);
            box-shadow: none;
        }
    }
}

.emil-states {
    .emil-state-factory(@brand: primary; @btn-primary-color);
    .emil-state-factory(@brand: default; @btn-default-color);
    .emil-state-factory(@brand: danger; @btn-danger-color);
    .emil-state-factory(@brand: success; @btn-success-color);
    .emil-state-factory(@brand: info; @btn-info-color);
    .emil-state-factory(@brand: warning; @btn-warning-color);

    &.disabled {
        .opacity(.35);
        .no-user-selection;
    }
}
