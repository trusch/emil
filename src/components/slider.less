/* topdoc
  application: ION-U web application
  copyright: Copyright (c) 2013, CommScope/webvariants
  author: Steven David <steven.david@webvariants.de>, Marko Ladngast <marko.ladengast@webvariants.de>
  name: Slider
  description: Slider Styling
  example: Link to an example on sites like Codepen.io or jsfiddle.net
  tags: styleguide, slider
  markup:
  fieldset.sliderRow
  	legend
  		span Heartbeat:
  	divfieldsetcontent
  		div.switchUnit.active#heartbeatStatus
  			div.handle
  			divclippingDiv
  			div.switchLabel on active#heartbeatStatus_left
  				span ON
  					input(type="radio", checked="true", value="1", name="heartbeatStatus_left")
  			div.switchLabel off#heartbeatStatus_right
  				span OFF
  				input(type="radio", value="0", name="heartbeatStatus_right")
  			div.shutter
  			div.switchLabel.hidden
  				span ON
  			div.switchLabel.hidden
  				span OFF
  		div.sliderContainerContainer
  			div.sliderContainer
  				div.slider.single_slider
  					span.min 1
  					span.max
  						span 1440
  						span.unit minutes
  					input(type="hidden", value="5", name="heartbeatInterval")
  					a(class="slider-handle left inputTopRight", data-num="0", data-max="1440", data-min="1", data-offset="0", style="left:0%;")
  						span.lines
  						span.value
  							input(data-val="5", value="5")
  						div.handle
  					span(class: "cur left", style="width:0%;")
*/

@tempSliderBgWebkit: -webkit-gradient(linear,left center, right center,color-stop(0,@red),color-stop(25%, @yellow),color-stop(75%, @green),color-stop(1,@green));
@tempSliderBgMoz: -moz-linear-gradient(left, @red 0, @yellow 25%, @green);
@tempSliderBgMs: -ms-linear-gradient(left, @red 0, @yellow 25%, @green);

.slider {
	width: calc(~"100% - 50px");
	max-width: 600px;
	margin-top: 6px;
	margin-left: 50px;
	border: 1px solid @grey30;
	.rounded(15px);
	background: @grey10;
	position: relative;
	height: 12px;
	.transition(0.5s, ease-out, opacity);
	.no-user-selection;

	&.multi_slider {

		&.threshold_slider {

			.cur {
				&.left {
					background: @green;
					border-color: @sliderDarkGreen;
				}
				&.right {
					background: @red;
					border-color: @sliderBorderRed;
				}
			}

			.threshold_bar {
				cursor: default;
				z-index: 2;
				background: @green;
				border: 1px solid #17698b;
				top: -1px;
				bottom: -1px;
				-webkit-border-radius: 15px;
				-moz-border-radius: 15px;
				border-radius: 15px;

				&.green {
					background: @green;
					border-color: @sliderDarkGreen;
				}

				&.yellow {
					background: @yellow;
					border-color: @yellowDark;
				}
			}
		}
	}

	span{
		display: block;
		position: absolute;

		&.measuredlabel {
			margin-top: 2%;
			padding-top: 2px;
			font-weight: bold;

			/* used for thresholdsliders to indicate measured points in range or not */
			&.in span.value {
				color: @green;
			}

			&.out span.value {
				color: @red;
			}

			span.lines {
				border-bottom: 3px solid #A7A7A7;
				border-left: 3px solid #A7A7A7;
				cursor: default;
				height: 25px;
				position: absolute;
				top: -9px;
				width: 8px;
				z-index: 200;
			}

			span.value {
				cursor: text;
				top: 5px;
				position: absolute;
				height: 25px;
				width: 40px;
				border: none;
				background-color: @white;
				display: block;
				padding: 0;
				padding-top: 3px;
			}


			&.left {

				span.lines {
					border-right: 3px solid @grey40;
					border-bottom: 3px solid @grey40;
					top: 0px;
					right: 0px;
				}

				span.value {
					left: -50px;
					text-align: right;
				}

			}

			&.right {

				span.lines {
					border-left: 3px solid @grey40;
					border-bottom: 3px solid @grey40;
					top: 0px;
					left: 0px;
				}

				span.value {
					left: 10px;
					text-align: left;
				}

			}
		}

		&.snaplabel {
			margin-top: 2%;
			padding-top: 2px;
			text-shadow: 0 0 2px rgba(0,0,0,0.2);

			span.value {
				cursor: text;
				top: 5px;
				position: absolute;
				height: 25px;
				width: 40px;
				border: none;
				display: block;
				padding: 0;
				left: -20px;
				padding-top: 3px;
				text-align: center;
			}
		}

		&.min, &.max {
			display: block;
			line-height: 25px;
			top: -7px;
			color: @grey70;
		}
		&.min {
			text-align: right;
			right: calc(~"100% - -12px");
		}
		&.max {
			left: calc(~"100% - -12px");
			span {
				display: inline;
				position: relative;
				+ span {
					margin-left: 5px;
				}
			}
		}
		&.cur {
			cursor: default;
			width: auto;
			z-index: 2;
			// .gradient(@sliderBgBlue, @sliderBgDarkBlue, @sliderBgBlue);
			background: @sliderBgBlue;
			border: 1px solid @sliderBgDarkBlue;
			top: -1px;
			bottom: -1px;
			.rounded(15px);

			&.left {
				left: -1px;
				right: auto;
			}

			&.right {
				left: auto;
				right: -1px;
			}
		}

		&.handleminmax {
			border: none;
			//border-left: 1px solid @grey80;
			top: -5px;
			bottom: -5px;
			z-index: 4;
		}
	}

	> span.dot {
		z-index: 3;
		top: 2px;
		margin-left: -3px;
		border-top: 1px solid @grey70;
		border-bottom: 1px solid @grey30;
	}

	&.disabled {
		opacity: 0.5;
		cursor: default;

		a.slider-handle {
			cursor: default;
			span.dot, input {
				cursor: default;
			}
		}
	}

	a.slider-handle {
		.rounded(50%);
		.no-user-selection;
		height: 20px;
		width: 20px;
		margin-left: -10px;
		position: absolute;
		top: -5px;
		z-index: 5;
		cursor: pointer;
		background: transparent;

		&.active {
			z-index: 7;
		}


		&.inputTopLeft {
			span.value {
				top: -27px;
				right: 16px;
				left: auto;
			}

			span.lines {
				width: 8px;
				height: 16px;
				border-top: 3px solid @grey40;
				border-right: 3px solid @grey40;
				border-left: none;
				top: -16px;
				left: 3px;
			}
		}

		&.inputBottomLeft {
			span.value {
				top: 22px;
				right: 16px;
				left: auto;
			}

			span.lines {
				width: 8px;
				height: 16px;
				border-top: none;
				border-bottom: 3px solid @grey40;
				border-right: 3px solid @grey40;
				border-left: none;
				top: 20px;
				left: 3px;
			}
		}

		&.inputBottomRight {
			span.value {
				top: 22px;
				left: 16px;
			}

			span.lines {
				width: 8px;
				height: 16px;
				border-top: none;
				border-bottom: 3px solid @grey40;
				border-left: 3px solid @grey40;
				top: 20px;
				right: 3px;
			}
		}

		&.right.bottom {
			span.bottomlines {
				position: absolute;
				width: 8px;
				height: 16px;
				border-bottom: 3px solid @grey40;
				border-right: 3px solid @grey40;
				bottom: -16px;
				left: 3px;
				z-index: 1;
				cursor: default;
			}

			span.bottomvalue {
				cursor: text;
				bottom: -27px;
				right: 16px;
				top: auto;
				left: auto;
				position: absolute;
				height: 25px;
				width: 50px;
				border: 1px solid @grey30;
				background-color: @white;
				display: block;
				padding: 0;
				input {
					border: none;
					width: 100%;
					text-align: center;
					padding-top: 2px;
					text-shadow: 0 0 2px rgba(0,0,0,0.2);
				}
			}

		}

		.handle {
			display: block;
			width: 20px;
			height: 20px;
			background: @white;
			border: 1px solid rgba(0,0,0,.2);
			.drop-shadow(0px, 0px, 2px, .2);
			.rounded(50%);
			z-index: 10;
			.transition(0.1s, ease-in-out, all);

			&:hover {
				border: 1px solid rgba(0,0,0,.3);
			}
		}

		span.value {
			cursor: text;
			top: -27px;
			left: 16px;
			position: absolute;
			height: 25px;
			width: 80px;
			border: 1px solid @grey30;
			background-color: @white;
			display: block;
			padding: 0;
			input {
				border: none;
				width: 100%;
				height: 100%;
				line-height: 22px;
				text-align: center;
				padding-top: 2px;
				padding-left: 0;
				text-shadow: 0 0 2px rgba(0,0,0,0.2);

				&[disabled] {
					background-color: @white;
				}
			}
		}

		span.dot {
			top: 6px;
			left: 6px;
		}

		span.lines {
			position: absolute;
			width: 8px;
			height: 16px;
			border-top: 3px solid @grey40;
			border-left: 3px solid @grey40;
			top: -16px;
			right: 3px;
			z-index: 1;
			cursor: default;
		}
	}
}

fieldset.sliderRow, fieldset.sliderThreshold {
	legend {
		@media (min-width: @screen-small) {
			height: 50px;

			span {
				padding-top: 15px;
			}
		}
	}

	.switchUnit {
		margin: 13px 0px;
		+ .sliderContainer {
			width: calc(~"100% - 90px");
			margin-left: 20px;
		}
	}

}

.sliderRow > .fieldsetcontent > .sliderContainerContainer,
.sliderThreshold > .fieldsetcontent > .sliderContainerContainer {
	width: calc(~"100% - 90px");
	margin-left: 12px;
	border-left: 1px solid @grey30;
	padding-left: 6px;
}

.sliderContainer {
	width: calc(~"100% - -12px");
	margin-top: 23px;
	margin-bottom: 1px;
	padding-right: 100px;
	height: 25px;
	margin-left: -6px;
	// border-top: 1px solid @grey30;
	position: relative;
}

.sliderThreshold {

	.sliderContainer {
		border: none;
		margin-top: 40px;
		margin-bottom: 25px;

		.slider {
			.gradient(@red, @redDark, @red);

			span.measured, span.t_left, span.t_right {
				margin-top: 2%;
				padding-top: 2px;
				text-shadow: 0 0 2px rgba(0,0,0,0.2);

				&.out span.value {
					background-color: @red;
				}

				&.in span.value {
					background-color: @green;
				}

				span.lines {
					position: absolute;
					width: 8px;
					height: 20px;
					border-right: 3px solid @grey53;
					bottom: -3px;
					left: -7px;
					z-index: 4;
					cursor: default;
				}

				span.value input {
					cursor: text;
					top: 5px;
					position: absolute;
					height: 25px;
					width: 40px;
					border: 1px solid @grey30;
					background-color: @white;
					display: block;
					padding: 0;
					left: -20px;
					padding-top: 3px;
					text-align: center;
				}

				&.top {
					span.lines {
						bottom: 0px;
					}

					span.value {
						top: -43px;
					}
				}

			}

			span.cur {
				background: none;
				border: none;
			}

			span.threshold.colored {
				cursor: default;
				width: auto;
				z-index: 2;
				.gradient(@green, @greenDark, @green);
				top: -1px;
				bottom: -1px;
				.rounded(3px);
			}

		}

	}

}

.sliderTemperature {

	span.label {
		float: left;
		background: @white;
		font-size: 15px;
		color: @black;
		margin-top: -18px;
		margin-left: 2%;

	}

	.sliderContainer {
		border: none;
		margin-top: 40px;
		margin-left: 25%;

		.slider {
			background: @tempSliderBgWebkit;
			background: @tempSliderBgMoz;
			background: @tempSliderBgMs;

			span.value {
				cursor: text;
				top: -28px;
				position: absolute;
				height: 25px;
				width: 40px;
				border: 1px solid @grey30;
				background-color: @white;
				display: block;
				padding: 0;
				left: 16px;
				padding-top: 3px;
				text-align: center;

			}

		}

	}

}

.latencySlider {
	.sliderContainer {
		margin-bottom: 25px;
	}
}

.rssi_sliders {
	.widgetTable {
		thead tr {
			th {
				& + th {
					& + th {
						& + th {
							width: 785px !important;
							& + th {
								width: auto !important;
							}
						}
					}
				}
			}
		}
	}
	.sliderContainer {
		margin-bottom: 23px !important;
		margin-top: 37px !important;
		margin-left: 37px !important;
	}
}